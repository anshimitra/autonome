import{a as $}from"./chunk-B3RKEXPI.js";import{a as V,b as y,c as R,d as q,e as rt,f as Y,g as ot,h as U,i as Ce,j as H,k as z,l as _e,m as Se,n as Te,o as W,p as ee,q as Q}from"./chunk-PC66R4D5.js";import{a as de,b as nt,d as at,e as st,f as Ie,g as lt,i as dt}from"./chunk-TCKOSIPS.js";import"./chunk-5MQ6Q77I.js";import{a as it}from"./chunk-KUMTYSWJ.js";import{a as tt,b as le,h as T,i as je,j as k,k as X,n as E}from"./chunk-CZMSP4ID.js";import{k as Z,m as K,n as Je,o as Ye,p as Ze,q as Ke,r as Xe,s as S,u as et}from"./chunk-V7WGXI6X.js";import{$ as f,$a as N,Aa as Oe,Ab as he,Bb as ae,Da as Le,Db as se,Eb as Fe,Fb as ve,Ga as Ge,Hb as xe,Jb as be,Ka as d,Kb as ye,La as p,Pa as Ee,T as ie,U as Ae,Ua as He,Va as m,Xa as oe,Y as re,Z as pe,Za as v,_a as M,aa as Be,ab as A,bb as B,ca as Ve,cb as n,db as o,ea as P,eb as u,fa as D,ga as Re,ha as qe,hb as ne,ib as G,mb as b,nb as g,ob as ze,pb as ge,qb as We,sb as s,tb as _,ub as j,va as Ue,yb as h,za as $e,zb as Qe}from"./chunk-3FRMDLHP.js";import"./chunk-CQCHLVVT.js";var F=(()=>{let e=class e{constructor(r){this.http=r,this.apiUrl="https://api.sciaku.com/api/email/awsSes/sendmail",this.authToken="eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJneWFuMiIsImV4cCI6MTcxNzgzMDE4OCwiaWF0IjoxNzE3NzQzNzg4fQ.djsE0u0Rve2Aa4CGqJuVzSUnDgNZbrL9Z9Lw_iLHL28"}get user(){return JSON.parse(localStorage.getItem("user"))}logout(){localStorage.removeItem("user"),window.location.reload()}sendMail(r){let i=new tt({Authorization:`Bearer ${this.authToken}`,"Content-Type":"application/json"});return this.http.post(this.apiUrl,r,{headers:i})}getUserByEmail(r){return this.http.get(`${de.baseUrl}/users?email=${r}`)}};e.\u0275fac=function(i){return new(i||e)(re(le))},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Nt=t=>({projectId:t});function At(t,e){if(t&1&&(n(0,"li",10)(1,"a",17)(2,"div",14),s(3,"Team"),o()()()),t&2){let l=g();d(1),m("routerLink","/project/team")("queryParams",he(2,Nt,l.pId))}}function Bt(t,e){if(t&1){let l=G();n(0,"li",10)(1,"a",18)(2,"span",14),s(3,"Profile"),o()()(),n(4,"li",10)(5,"button",19),b("click",function(){P(l);let i=g();return D(i.auth.logout())}),n(6,"span",14),s(7,"Logout"),o()()()}}var Vt=(t,e)=>({hidden:t,flex:e}),ct=(()=>{let e=class e{constructor(r,i){this.route=r,this.auth=i,this.showMenu=!1,this.isProject=!1,this.pId="",this.route.queryParams.subscribe(a=>{this.pId=a.projectId,this.pId?this.isProject=!0:this.isProject=!1})}toggleNavbar(){this.showMenu=!this.showMenu}};e.\u0275fac=function(i){return new(i||e)(p(T),p(F))},e.\u0275cmp=f({type:e,selectors:[["app-project-header"]],inputs:{class:"class"},standalone:!0,features:[h],decls:24,vars:8,consts:[[1,"bg-gray-800","p-4","flex","items-center","justify-between","drop-shadow-md"],["routerLink","/project/"],["data-collapse-toggle","navbar-default","type","button","aria-controls","navbar-default","aria-expanded","false",1,"inline-flex","items-center","p-2","w-10","h-10","justify-center","text-sm","text-gray-500","rounded-lg","md:hidden","hover:bg-gray-100","focus:outline-none","focus:ring-2","focus:ring-gray-200","dark:text-gray-400","dark:hover:bg-gray-700","dark:focus:ring-gray-600",3,"click"],[1,"sr-only"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 17 14",1,"w-5","h-5"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M1 1h15M1 7h15M1 13h15"],["id","navbar-default",1,"w-full","md:w-auto","md:flex","min-h-[90vh]"],["id","default-sidebar","aria-label","Sidebar",1,"z-40","w-full","md:w-64","transition-transform","sm:translate-x-0","hidden","md:flex",3,"ngClass"],[1,"px-3","w-full","py-4","overflow-y-auto","bg-gray-500","dark:bg-gray-800"],[1,"space-y-2","font-medium"],[1,"border-b-2"],["routerLink","/project/",1,"flex","items-center","p-2","text-white","rounded-lg","dark:text-white","hover:bg-gray-400","dark:hover:bg-gray-700","group"],[1,"ms-3"],["routerLink","/project/portfolio",1,"flex","items-center","p-2","text-white","rounded-lg","dark:text-white","hover:bg-gray-400","dark:hover:bg-gray-700","group"],[1,"flex-1","ms-3","whitespace-nowrap"],["class","border-b-2"],[1,"w-full","min-h-[100vh]","max-h-max","p-3","bg-gray-800","text-white","md:h-full"],[1,"flex","items-center","p-2","text-white","rounded-lg","dark:text-white","hover:bg-gray-400","dark:hover:bg-gray-700","group",3,"routerLink","queryParams"],["routerLink","/project/profile",1,"flex","items-center","p-2","text-white","rounded-lg","dark:text-white","hover:bg-gray-400","dark:hover:bg-gray-700","group"],[1,"flex","items-center","p-2","text-white","rounded-lg","dark:text-white","hover:bg-gray-400","dark:hover:bg-gray-700","group",3,"click"]],template:function(i,a){i&1&&(n(0,"nav",0)(1,"a",1),u(2,"app-logo"),o(),n(3,"button",2),b("click",function(){return a.toggleNavbar()}),n(4,"span",3),s(5,"Open main menu"),o(),Re(),n(6,"svg",4),u(7,"path",5),o()()(),qe(),n(8,"div",6)(9,"aside",7)(10,"div",8)(11,"ul",9)(12,"li",10)(13,"a",11)(14,"span",12),s(15,"Home"),o()()(),n(16,"li",10)(17,"a",13)(18,"span",14),s(19,"Projects"),o()()(),v(20,At,4,4,"li",15)(21,Bt,8,0),o()()(),n(22,"div",16),u(23,"router-outlet"),o()()),i&2&&(d(2),oe(a.class),d(7),m("ngClass",ae(5,Vt,!a.showMenu,a.showMenu)),d(11),M(20,a.isProject?20:-1),d(1),M(21,a.auth.user!=null?21:-1))},dependencies:[it,E,je,X,S,Z]});let t=e;return t})();var pt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f({type:e,selectors:[["app-project"]],standalone:!0,features:[h],decls:1,vars:2,template:function(i,a){i&1&&u(0,"app-project-header"),i&2&&oe("text-white")},dependencies:[ct,dt]});let t=e;return t})();var Rt=(t,e)=>({projectId:t,teamId:e}),ut=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f({type:e,selectors:[["app-team-card"]],inputs:{team:"team"},standalone:!0,features:[h],decls:5,vars:6,consts:[["routerLink","/project/team",1,"p-2","mb-1","rounded-lg","shadow-md","flex","flex-row","justify-between","bg-gray-600","text-white","font-medium",3,"queryParams"]],template:function(i,a){i&1&&(n(0,"a",0)(1,"p"),s(2),o(),n(3,"p"),s(4),o()()),i&2&&(m("queryParams",ae(3,Rt,a.team.projectId,a.team.id)),d(2),_(a.team.email),d(2),_(a.team.tasks==null?null:a.team.tasks.length))},dependencies:[E,X]});let t=e;return t})();var L=(()=>{let e=class e{constructor(r){this.http=r,this.baseUrl=de.baseUrl}addTeamToProject(r){return this.http.post(`${this.baseUrl}/teams`,r)}getTeams(){return this.http.get(`${this.baseUrl}/teams`)}getTeamByUserAndProject(r,i){return this.http.get(`${this.baseUrl}/teams?email=${r}&projectId=${i}`)}getTeamByProjectId(r){return this.http.get(`${this.baseUrl}/teams?projectId=${r}&_embed=tasks`)}getTeamById(r){return this.http.get(`${this.baseUrl}/teams/${r}?_embed=tasks`)}};e.\u0275fac=function(i){return new(i||e)(re(le))},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qt(t,e){if(t&1&&u(0,"app-team-card",7),t&2){let l=e.$implicit;m("team",l)}}var ft=(()=>{let e=class e{constructor(r,i){this.teamService=r,this.route=i,this.route.queryParams.subscribe(a=>{this.projectId=a.projectId,this.getTeams(this.projectId)})}ngOnInit(){}getTeams(r){this.teamService.getTeamByProjectId(r).subscribe(i=>{this.teams=i},i=>{console.log(i)})}};e.\u0275fac=function(i){return new(i||e)(p(L),p(T))},e.\u0275cmp=f({type:e,selectors:[["app-team"]],standalone:!0,features:[h],decls:16,vars:0,consts:[[1,"container","mx-auto","p-4"],[1,"text-3xl","font-bold","mb-6"],[1,"w-full","flex","flex-col","sm:flex-row","justify-center","bg-white","rounded-lg","shadow-md","mb-6","p-4"],[1,"w-full","sm:w-[65%]"],[1,"flex","flex-row","justify-between","text-red-700","font-bold","bg-gray-300","rounded-lg","shadow-md","p-4"],[1,"w-full","sm:w-[35%]","p-2","m-2","bg-gray-600","h-full","rounded-lg","shadow-md"],[1,"text-2xl","font-bold","mb-6"],[3,"team"]],template:function(i,a){i&1&&(n(0,"div",0)(1,"h1",1),s(2,"Project Team Members"),o(),n(3,"div",2)(4,"div",3)(5,"div",4)(6,"p"),s(7,"Name"),o(),n(8,"p"),s(9,"Assigned Tasks"),o()(),A(10,qt,1,1,"app-team-card",7,N),o(),n(12,"div",5)(13,"p",6),s(14,"Assigned Tasks"),o(),u(15,"router-outlet"),o()()()),i&2&&(d(10),B(a.teams))},dependencies:[S,E,je,ut]});let t=e;return t})();var gt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f({type:e,selectors:[["app-notification"]],standalone:!0,features:[h],decls:2,vars:0,template:function(i,a){i&1&&(n(0,"p"),s(1,"notification works!"),o())},dependencies:[S,E]});let t=e;return t})();var ht=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f({type:e,selectors:[["app-time"]],standalone:!0,features:[h],decls:2,vars:0,template:function(i,a){i&1&&(n(0,"p"),s(1,"time works!"),o())},dependencies:[S,E]});let t=e;return t})();var vt=(()=>{let e=class e{constructor(){this.greetingMessage="",this.currentTime="",this.currentDate="",this.displayTimeAndDate=r=>{this.greetingMessage=this.getGreetingMessage(r.getHours()),this.currentTime=r.toLocaleTimeString("en-US",{hour12:!0}),this.currentDate=r.toLocaleDateString()}}ngOnInit(){this.greetingMessage="Hello! Welcome to the project dashboard.",this.updateTimeAndDate()}updateTimeAndDate(){let r=new Date;this.displayTimeAndDate(r)}getGreetingMessage(r){return r>=5&&r<12?"Good Morning":r>=12&&r<18?"Good Afternoon":"Good Evening"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f({type:e,selectors:[["app-project-dashboard"]],standalone:!0,features:[h],decls:6,vars:3,consts:[[1,"text-red-600","font-semibold","text-4xl"]],template:function(i,a){i&1&&(n(0,"h1",0),s(1),o(),n(2,"p"),s(3),o(),n(4,"p"),s(5),o()),i&2&&(d(1),_(a.greetingMessage),d(2),j(" ",a.currentTime,""),d(2),j(" ",a.currentDate,""))}});let t=e;return t})();var xt=(()=>{let e=class e{constructor(r){this.router=r,this.onDelete=new Ee,this.onEdit=new Ee}onProjectClick(r){this.router.navigate(["project/details"],{queryParams:{projectId:r.id}})}};e.\u0275fac=function(i){return new(i||e)(p(k))},e.\u0275cmp=f({type:e,selectors:[["app-project-card"]],inputs:{project:"project"},outputs:{onDelete:"onDelete",onEdit:"onEdit"},standalone:!0,features:[h],decls:16,vars:3,consts:[[1,"max-w-sm","rounded","overflow-hidden","shadow-lg","bg-white","p-4","m-4"],[1,"px-6","py-4"],["role","button",3,"click"],[1,"font-bold","text-xl","mb-2","text-black"],[1,"text-gray-700","text-base"],[1,"text-gray-600","text-sm","mt-4"],[1,"flex","justify-end","mt-4"],[1,"bg-green-500","hover:bg-green-700","text-white","font-bold","py-1","px-4","rounded","mr-2",3,"click"],[1,"bg-red-500","hover:bg-red-700","text-white","font-bold","py-1","px-4","rounded",3,"click"]],template:function(i,a){i&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),b("click",function(){return a.onProjectClick(a.project)}),n(3,"div",3),s(4),o(),n(5,"p",4),s(6),o(),n(7,"p",5)(8,"strong"),s(9,"Deadline:"),o(),s(10),o()(),n(11,"div",6)(12,"button",7),b("click",function(){return a.onEdit.emit(a.project.id)}),s(13," Edit "),o(),n(14,"button",8),b("click",function(){return a.onDelete.emit(a.project.id)}),s(15," Delete "),o()()()()),i&2&&(d(4),_(a.project.title),d(2),j(" ",a.project.details," "),d(4),j(" ",a.project.deadline," "))},dependencies:[E]});let t=e;return t})();function Ut(t,e){if(t&1){let l=G();n(0,"app-project-card",4),b("onDelete",function(i){P(l);let a=g();return D(a.onDelete(i))})("onEdit",function(i){P(l);let a=g();return D(a.onEdit(i))}),o()}if(t&2){let l=e.$implicit;m("project",l)}}var bt=(()=>{let e=class e{constructor(r,i,a){this.projectService=r,this.router=i,this.auth=a,this.projects=[],this.assignedProjects=[]}ngOnInit(){this.getAssignedProjectsByEmail()}getAssignedProjectsByEmail(){this.projectService.getAssignedProjectsByEmail(this.auth.user.email).subscribe(r=>{this.assignedProjects=r;for(let i=0;i<this.assignedProjects.length;i++){let a=this.assignedProjects[i];this.getProjectByIdWithTasks(a.projectId)}})}getProjectByIdWithTasks(r){this.projectService.getProjectByIdWithTasks(r).subscribe(i=>{this.projects.push(i)})}getProjects(){this.projectService.getProjectsByLeaderWithTasks(this.auth.user.id).subscribe(r=>{this.projects=r},r=>{console.log(r)})}onEdit(r){this.router.navigateByUrl("/project/edit/"+r)}onDelete(r){confirm("Are you sure to delete this project?")&&this.projectService.deleteProject(r,0).subscribe(i=>{this.getProjects()},i=>{console.log(i)})}};e.\u0275fac=function(i){return new(i||e)(p($),p(k),p(F))},e.\u0275cmp=f({type:e,selectors:[["app-project-list"]],standalone:!0,features:[h],decls:7,vars:0,consts:[[1,"container","mx-auto","px-4","py-8"],["routerLink","/project/new/create",1,"btn","btn-primary"],[1,"bg-indigo-500","hover:bg-indigo-600","text-white","font-bold","py-2","px-4","rounded-full"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","gap-2"],[3,"project","onDelete","onEdit"],[3,"project"]],template:function(i,a){i&1&&(n(0,"div",0)(1,"a",1)(2,"button",2),s(3," Add Project "),o()(),n(4,"div",3),A(5,Ut,1,1,"app-project-card",5,N),o()()),i&2&&(d(5),B(a.projects))},dependencies:[E,X,xt]});let t=e;return t})();var yt=(()=>{let e=class e{transform(r,i){return r.filter(a=>a.status===i)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Ve({name:"tasks",type:e,pure:!0,standalone:!0});let t=e;return t})();var ce=(()=>{let e=class e{constructor(r){this.http=r,this.baseUrl=de.baseUrl}addTask(r){return this.http.post(`${this.baseUrl}/tasks`,r)}editTask(r){return this.http.put(`${this.baseUrl}/tasks/${r.id}`,r)}deleteTaskById(r){return this.http.delete(`${this.baseUrl}/tasks/${r}`)}getTaskById(r){return this.http.get(`${this.baseUrl}/tasks/${r}`)}};e.\u0275fac=function(i){return new(i||e)(re(le))},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $t=()=>({standalone:!0});function Ot(t,e){if(t&1){let l=G();n(0,"input",21),b("ngModelChange",function(i){P(l);let a=g().$index,c=g(2);return D(c.taskNames[a]=i)})("blur",function(){P(l);let i=g().$index,a=g(2);return D(a.onAdd(i))}),o()}if(t&2){let l=g().$index,r=g(2);m("ngModel",r.taskNames[l])("ngModelOptions",Qe(2,$t))}}function Lt(t,e){if(t&1){let l=G();n(0,"button",22),b("click",function(){P(l);let i=g().$index,a=g(2);return D(a.onAdd(i))}),u(1,"i",23),o()}}function Gt(t,e){if(t&1){let l=G();n(0,"button",33),b("click",function(){P(l);let i=g().$implicit,a=g(3);return D(a.deleteTask(i.id))}),u(1,"i",34),o()}}function Ht(t,e){if(t&1){let l=G();n(0,"div",24)(1,"div",25)(2,"div",26),b("click",function(){let a=P(l).$implicit,c=g(3);return D(c.editTask(a.id))}),n(3,"div",27),s(4),o(),n(5,"div",28),s(6),o()(),n(7,"div",29)(8,"button",30),b("click",function(){let a=P(l).$implicit,c=g(3);return D(c.editTask(a.id))}),u(9,"i",31),o(),v(10,Gt,2,0,"button",32),o()()()}if(t&2){let l=e.$implicit,r=g(3);d(3),m("ngClass",r.getTaskTypeColor(l.status)),d(1),j(" ",l.title," "),d(2),_(l.description),d(4),M(10,r.auth.user.id===r.project.leader?10:-1)}}function zt(t,e){if(t&1){let l=G();n(0,"div",15)(1,"div",16),s(2),o(),u(3,"hr",17),n(4,"div",18)(5,"form",19),b("ngSubmit",function(){let a=P(l).$index,c=g(2);return D(c.addTask(a))}),v(6,Ot,1,3,"input",20)(7,Lt,2,0),o()(),A(8,Ht,11,4,"div",35,N),se(10,"tasks"),o()}if(t&2){let l=e.$implicit,r=e.$index,i=g(2);d(1),m("ngClass",i.getTaskTypeColor(l.key)),d(1),j(" ",l.name," "),d(4),M(6,i.isShow==r?6:7),d(2),B(ve(10,3,i.project.tasks,l.key))}}var Wt=t=>({projectId:t});function Qt(t,e){if(t&1){let l=G();n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),s(4),se(5,"uppercase"),o(),n(6,"div",2)(7,"span",4)(8,"strong"),s(9),o(),s(10," Remaining"),o(),n(11,"a",5),s(12," Invite Member "),o()()(),n(13,"div",6)(14,"p",7),s(15),o(),n(16,"span",8),s(17,"Estimate Costs: "),n(18,"strong",9),s(19),se(20,"currency"),o(),s(21," / "),n(22,"strong",10),s(23),se(24,"currency"),o()()(),n(25,"div",11)(26,"span",12),s(27),se(28,"date"),o(),n(29,"button",13),b("click",function(){P(l);let i=g();return D(i.navigateToAddTask(i.project.id))}),s(30," Add Task "),o()()()(),n(31,"div",14),A(32,zt,11,6,"div",36,N),o()}if(t&2){let l=g();d(4),j(" ",Fe(5,7,l.project.title)," "),d(5),_(l.getRemainingDays(l.project)),d(2),m("queryParams",he(17,Wt,l.project.id)),d(4),_(l.project.details),d(4),_(ve(20,9,l.project.estimateCost,"INR")),d(4),j(" ",ve(24,12,l.getCurrentCosts(l.project.tasks),"INR"),""),d(4),j("Deadline: ",Fe(28,15,l.project.deadline),""),d(5),B(l.taskColumns)}}function Jt(t,e){t&1&&(n(0,"div",37)(1,"h1",38),s(2,"No project found"),o()())}var jt=(()=>{let e=class e{constructor(r,i,a,c,x){this.route=r,this.projectService=i,this.taskService=a,this.router=c,this.auth=x,this.taskNames=[],this.isShow=-1,this.taskColumns=[{name:"To Do",key:"0",data:[{name:"Task Name"},{name:"Due Date"}]},{name:"In Progress",key:"1",data:[]},{name:"In Review",key:"2",data:[]},{name:"Completed",key:"3",data:[]}]}ngOnInit(){this.route.queryParams.subscribe(r=>this.id=r.projectId),this.getProjectById(this.id)}getProjectById(r){this.projectService.getProjectByIdWithTasks(r).subscribe(i=>{this.project=i},i=>{console.error(i)})}getRemainingDays(r){let i=new Date,a=new Date(r.deadline);return Math.ceil((a.getTime()-i.getTime())/(1e3*3600*24))+" Days"}getCurrentCosts(r){let i=0;for(let a=0;a<r.length;a++){let c=r[a];c.cost&&c.status==="3"&&(i+=c.cost)}return i}onAdd(r){if(r==this.isShow){this.isShow=-1;return}this.isShow=r}addTask(r){let i=this.taskNames[r];if(i.trim()!==""){let a=i;a=a.toLowerCase(),a=a.replace(/[^\w\s]/gi,""),a=a.replace(/\s+/g,"-");let c={title:i,status:"Start",description:"",assignedTo:"",labels:[],dueDate:new Date,columnId:"",cardId:"",comments:[],attachments:[],timeSpent:0,timeEstimated:0,members:[],subTasks:[],isSubTask:!1,showSubTasks:!1,parentTask:null,overridden:!1,editable:!1,removable:!1,canAddSubTask:!1,canRemove:!1,canEdit:!1,canDelete:!1,tags:[],tagColors:[],checklistItems:[],projectId:this.project.id};this.taskService.addTask(c).subscribe(x=>{console.log(x)},x=>{console.log(x)})}}navigateToAddTask(r){this.router.navigate(["/project/task/create"],{queryParams:{projectId:r}})}editTask(r){this.router.navigate(["/project/edit/task/",this.project.id],{queryParams:{taskId:r}})}deleteTask(r){confirm("Are you sure to delete this task?")&&this.taskService.deleteTaskById(r).subscribe(i=>{this.getProjectById(this.id)},i=>{console.log(i)})}getTaskTypeColor(r){switch(r){case"0":return"text-blue-500";case"1":return"text-orange-500";case"2":return"text-yellow-500";case"3":return"text-green-500";default:return"text-gray-500"}}};e.\u0275fac=function(i){return new(i||e)(p(T),p($),p(ce),p(k),p(F))},e.\u0275cmp=f({type:e,selectors:[["app-project-details"]],standalone:!0,features:[h],decls:2,vars:1,consts:[[1,"p-4","bg-white","shadow-md","rounded-lg"],[1,"flex","flex-col","justify-between","mt-4"],[1,"flex","justify-between","items-center"],[1,"text-2xl","font-bold","text-gray-800"],[1,"text-sm","text-red-500","px-5"],["routerLink","/project/team/invite",1,"bg-indigo-500","hover:bg-indigo-600","text-white","font-bold","py-2","px-4","rounded",3,"queryParams"],[1,"flex","justify-between","items-center","pt-3"],[1,"text-gray-600"],[1,"text-sm","text-gray-500"],[1,"text-red-500"],[1,"text-green-500"],[1,"flex","justify-between","items-center","mt-4"],[1,"text-sm","text-red-500"],[1,"bg-green-500","hover:bg-green-600","text-white","font-bold","py-2","px-4","rounded",3,"click"],[1,"grid","grid-cols-1","sm:grid-cols-4","gap-0","mt-3","rounded-2xl","border-0","bg-gray-800","text-black","h-[100%]"],[1,"p-4","rounded-2xl","border","border-gray-300"],[1,"text-xl","font-semibold","cursor-pointer",3,"ngClass"],[1,"bg-white"],[1,"text-gray-400","rounded","mt-2"],[3,"ngSubmit"],["type","text","class","w-full p-2 border border-gray-300 position-relative","placeholder","Enter a task name",3,"ngModel","ngModelOptions"],["type","text","placeholder","Enter a task name",1,"w-full","p-2","border","border-gray-300","position-relative",3,"ngModel","ngModelOptions","ngModelChange","blur"],["type","submit",1,"w-full","mt-2","py-2","px-4","bg-blue-500","text-white","rounded","position-absolute","end-0",3,"click"],[1,"ri-add-large-line"],[1,"mt-4","shadow-lg","bg-white"],[1,"p-2","flex","flex-col","sm:flex-row","justify-between","items-center","border-b","border-gray-300"],["role","button",1,"flex-1",3,"click"],[1,"font-bold",3,"ngClass"],[1,"text-sm"],[1,"flex","items-center"],[1,"text-blue-500","hover:text-blue-700","mr-2",3,"click"],[1,"ri-edit-box-line"],["class","text-red-500 hover:text-red-700"],[1,"text-red-500","hover:text-red-700",3,"click"],[1,"ri-delete-bin-5-line"],["class","mt-4 shadow-lg bg-white"],["class","p-4 rounded-2xl border border-gray-300"],[1,"flex","flex-col","items-center","justify-center","h-screen"],[1,"text-2xl","font-bold","text-gray-700"]],template:function(i,a){i&1&&v(0,Qt,34,19)(1,Jt,3,0),i&2&&M(0,a.project?0:1)},dependencies:[S,Z,Ze,Xe,Ke,E,X,ee,U,V,R,q,ot,rt,yt]});let t=e;return t})();var we,Yt=new Uint8Array(16);function De(){if(!we&&(we=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!we))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return we(Yt)}var w=[];for(let t=0;t<256;++t)w.push((t+256).toString(16).slice(1));function Ct(t,e=0){return w[t[e+0]]+w[t[e+1]]+w[t[e+2]]+w[t[e+3]]+"-"+w[t[e+4]]+w[t[e+5]]+"-"+w[t[e+6]]+w[t[e+7]]+"-"+w[t[e+8]]+w[t[e+9]]+"-"+w[t[e+10]]+w[t[e+11]]+w[t[e+12]]+w[t[e+13]]+w[t[e+14]]+w[t[e+15]]}var Zt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Me={randomUUID:Zt};function Kt(t,e,l){if(Me.randomUUID&&!e&&!t)return Me.randomUUID();t=t||{};let r=t.random||(t.rng||De)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){l=l||0;for(let i=0;i<16;++i)e[l+i]=r[i];return e}return Ct(r)}var Ne=Kt;function Xt(t,e){t&1&&(n(0,"div",16),s(1," Project Name is required. "),o())}function ei(t,e){t&1&&(n(0,"div",16),s(1," Project Details are required. "),o())}function ti(t,e){t&1&&(n(0,"div",16),s(1," Estimate cost is required. "),o())}function ii(t,e){t&1&&(n(0,"div",16),s(1," Deadline is required. "),o())}var _t=(()=>{let e=class e{constructor(r,i,a,c,x){this.projectService=r,this.router=i,this.fb=a,this.authService=c,this.teamService=x,this.projectForm=this.fb.group({id:[Ne(),y.required],title:["",y.required],details:["",y.required],deadline:["",y.required],estimateCost:[0,y.required]})}add(){if(this.projectForm.valid){let r=this.projectForm.value.title;r=r.toLowerCase(),r=r.replace(/[^\w\s]/gi,""),r=r.replace(/\s+/g,"-");let i={id:this.projectForm.value.id,title:this.projectForm.value.title,url:r,details:this.projectForm.value.details,createdAt:new Date,status:"Start",tasks:[],deadline:this.projectForm.value.deadline,progress:0,member:[this.authService.user.id],leader:this.authService.user.id,estimateCost:this.projectForm.value.estimateCost};this.projectService.addProject(i,0).subscribe(a=>{this.saveTeam(a.id)},a=>{console.log(a)})}}saveTeam(r){let i={email:this.authService.user.email,projectId:r};this.teamService.addTeamToProject(i).subscribe(a=>{this.router.navigate(["/project/portfolio"])})}};e.\u0275fac=function(i){return new(i||e)(p($),p(k),p(W),p(F),p(L))},e.\u0275cmp=f({type:e,selectors:[["app-project-add"]],standalone:!0,features:[h],decls:30,vars:6,consts:[[1,"max-w-md","mx-auto","p-4","bg-white","rounded","shadow-md"],[1,"text-xl","font-bold","text-gray-700"],[3,"formGroup","ngSubmit"],[1,"mb-4"],["for","project-name",1,"block","text-sm","font-medium","leading-6","text-gray-700"],[1,"mt-2"],["type","text","name","project-name","id","project-name","formControlName","title","autocomplete","given-name",1,"block","w-full","rounded-md","border-0","p-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],["class","text-red-500 text-sm mt-2",4,"ngIf"],["for","project-detail",1,"block","text-sm","font-medium","leading-6","text-gray-700"],["name","project-detail","id","project-detail","rows","3","formControlName","details","autocomplete","given-name",1,"block","w-full","rounded-md","border-0","p-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],["for","estimateCost",1,"block","text-sm","font-medium","leading-6","text-gray-700"],["type","text","name","estimateCost","id","estimateCost","formControlName","estimateCost","autocomplete","false",1,"block","w-full","rounded-md","border-0","p-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],["for","deadline",1,"block","text-sm","font-medium","leading-6","text-gray-700"],["id","deadline","type","date","formControlName","deadline",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],[1,"flex","items-center","justify-between"],[1,"bg-green-500","hover:bg-green-600","text-white","font-bold","my-3","py-2","px-4","rounded-full",3,"disabled"],[1,"text-red-500","text-sm","mt-2"]],template:function(i,a){if(i&1&&(n(0,"div",0)(1,"h1",1),s(2,"Add Projects"),o(),n(3,"form",2),b("ngSubmit",function(){return a.add()}),n(4,"div",3)(5,"label",4),s(6,"Enter Project Name"),o(),n(7,"div",5),u(8,"input",6),o(),v(9,Xt,2,0,"div",7),o(),n(10,"div",3)(11,"label",8),s(12,"Enter Project Details"),o(),n(13,"div",5),u(14,"textarea",9),o(),v(15,ei,2,0,"div",7),o(),n(16,"div",3)(17,"label",10),s(18,"Enter Project Estimate cost"),o(),n(19,"div",5),u(20,"input",11),o(),v(21,ti,2,0,"div",7),o(),n(22,"div",3)(23,"label",12),s(24,"Deadline"),o(),u(25,"input",13),v(26,ii,2,0,"div",7),o(),n(27,"div",14)(28,"button",15),s(29," Add Project "),o()()()()),i&2){let c,x,I,J;d(3),m("formGroup",a.projectForm),d(6),m("ngIf",((c=a.projectForm.get("title"))==null?null:c.invalid)&&((c=a.projectForm.get("title"))==null?null:c.touched)),d(6),m("ngIf",((x=a.projectForm.get("details"))==null?null:x.invalid)&&((x=a.projectForm.get("details"))==null?null:x.touched)),d(6),m("ngIf",((I=a.projectForm.get("estimateCost"))==null?null:I.invalid)&&((I=a.projectForm.get("estimateCost"))==null?null:I.touched)),d(5),m("ngIf",((J=a.projectForm.get("deadline"))==null?null:J.invalid)&&((J=a.projectForm.get("deadline"))==null?null:J.touched)),d(2),m("disabled",a.projectForm.invalid)}},dependencies:[ee,U,V,R,q,Q,H,z,K]});let t=e;return t})();function ri(t,e){t&1&&ne(0)}function oi(t,e){if(t&1&&(n(0,"div",8),ge(1,1),v(2,ri,1,0,"ng-container",6),o()),t&2){let l=g();d(2),m("ngTemplateOutlet",l.headerTemplate)}}function ni(t,e){t&1&&ne(0)}function ai(t,e){if(t&1&&(n(0,"div",9),s(1),v(2,ni,1,0,"ng-container",6),o()),t&2){let l=g();d(1),j(" ",l.header," "),d(1),m("ngTemplateOutlet",l.titleTemplate)}}function si(t,e){t&1&&ne(0)}function li(t,e){if(t&1&&(n(0,"div",10),s(1),v(2,si,1,0,"ng-container",6),o()),t&2){let l=g();d(1),j(" ",l.subheader," "),d(1),m("ngTemplateOutlet",l.subtitleTemplate)}}function di(t,e){t&1&&ne(0)}function mi(t,e){t&1&&ne(0)}function ci(t,e){if(t&1&&(n(0,"div",11),ge(1,2),v(2,mi,1,0,"ng-container",6),o()),t&2){let l=g();d(2),m("ngTemplateOutlet",l.footerTemplate)}}var pi=["*",[["p-header"]],[["p-footer"]]],ui=["*","p-header","p-footer"],St=(()=>{class t{el;header;subheader;set style(l){nt.equals(this._style(),l)||this._style.set(l)}styleClass;headerFacet;footerFacet;templates;headerTemplate;titleTemplate;subtitleTemplate;contentTemplate;footerTemplate;_style=Ge(null);constructor(l){this.el=l}ngAfterContentInit(){this.templates.forEach(l=>{switch(l.getType()){case"header":this.headerTemplate=l.template;break;case"title":this.titleTemplate=l.template;break;case"subtitle":this.subtitleTemplate=l.template;break;case"content":this.contentTemplate=l.template;break;case"footer":this.footerTemplate=l.template;break;default:this.contentTemplate=l.template;break}})}getBlockableElement(){return this.el.nativeElement.children[0]}static \u0275fac=function(r){return new(r||t)(p(Le))};static \u0275cmp=f({type:t,selectors:[["p-card"]],contentQueries:function(r,i,a){if(r&1&&(be(a,at,5),be(a,st,5),be(a,Ie,4)),r&2){let c;xe(c=ye())&&(i.headerFacet=c.first),xe(c=ye())&&(i.footerFacet=c.first),xe(c=ye())&&(i.templates=c)}},hostAttrs:[1,"p-element"],inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:ui,decls:9,vars:10,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(r,i){r&1&&(ze(pi),n(0,"div",0),v(1,oi,3,1,"div",1),n(2,"div",2),v(3,ai,3,2,"div",3)(4,li,3,2,"div",4),n(5,"div",5),ge(6),v(7,di,1,0,"ng-container",6),o(),v(8,ci,3,1,"div",7),o()()),r&2&&(oe(i.styleClass),m("ngClass","p-card p-component")("ngStyle",i._style()),He("data-pc-name","card"),d(1),m("ngIf",i.headerFacet||i.headerTemplate),d(2),m("ngIf",i.header||i.titleTemplate),d(1),m("ngIf",i.subheader||i.subtitleTemplate),d(3),m("ngTemplateOutlet",i.contentTemplate),d(1),m("ngIf",i.footerFacet||i.footerTemplate))},dependencies:[Z,K,Ye,Je],styles:[`@layer primeng{.p-card-header img{width:100%}}
`],encapsulation:2,changeDetection:0})}return t})(),Tt=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Be({type:t});static \u0275inj=Ae({imports:[S,lt]})}return t})();function gi(t,e){if(t&1&&(n(0,"div",4),u(1,"img",5),o()),t&2){let l=g(2);d(1),We("alt",l.profile.name),m("src",l.profile.photoURL,Oe)}}var hi=(t,e)=>({"text-green-500":t,"text-red-500":e});function vi(t,e){if(t&1&&(n(0,"div",6)(1,"h2",7),s(2),o(),n(3,"p",8),s(4),o()(),n(5,"div")(6,"p")(7,"strong"),s(8,"ID:"),o(),s(9),o(),n(10,"p")(11,"strong"),s(12,"Role:"),o(),s(13),o(),n(14,"p")(15,"strong"),s(16,"Status:"),o(),n(17,"span",9),s(18),o()(),n(19,"p")(20,"strong"),s(21,"Created At:"),o(),s(22),o()()),t&2){let l=g(2);d(2),_(l.profile.name),d(2),_(l.profile.email),d(5),j(" ",l.profile.id,""),d(4),j(" ",l.profile.role,""),d(4),m("ngClass",ae(7,hi,l.profile.status,!l.profile.status)),d(1),j(" ",l.profile.status?"Active":"Inactive"," "),d(4),j(" ",l.profile.createdAt,"")}}function xi(t,e){t&1&&(n(0,"p-card",1),v(1,gi,2,2,"ng-template",2)(2,vi,23,10,"ng-template",3),o())}var It=(()=>{let e=class e{constructor(r){this.authService=r,this.profile=r.user}};e.\u0275fac=function(i){return new(i||e)(p(F))},e.\u0275cmp=f({type:e,selectors:[["app-user-profile"]],standalone:!0,features:[h],decls:1,vars:1,consts:[["class","max-w-xl mx-auto",4,"ngIf"],[1,"max-w-xl","mx-auto"],["pTemplate","header"],["pTemplate","content"],[1,"text-center"],[1,"w-24","h-24","rounded-full","mx-auto","mb-4",3,"src","alt"],[1,"text-center","mb-4"],[1,"text-2xl","font-semibold"],[1,"text-gray-600"],[3,"ngClass"]],template:function(i,a){i&1&&v(0,xi,3,0,"p-card",0),i&2&&m("ngIf",a.profile)},dependencies:[Tt,St,Ie,S,Z,K]});let t=e;return t})();function bi(t,e){t&1&&(n(0,"div",15),s(1," Project Name is required. "),o())}function yi(t,e){t&1&&(n(0,"div",15),s(1," Project Details are required. "),o())}function ji(t,e){t&1&&(n(0,"div",15),s(1," Estimate cost is required. "),o())}function Ci(t,e){t&1&&(n(0,"div",15),s(1," Deadline is required. "),o())}var kt=(()=>{let e=class e{constructor(r,i,a,c){this.route=r,this.projectService=i,this.router=a,this.fb=c,this.route.params.subscribe(x=>this.id=x.id),this.projectForm=this.fb.group({id:new Y(""),title:new Y("",{validators:[y.required]}),details:new Y(""),url:new Y(""),createdAt:new Y(""),status:new Y(""),tasks:new Y(""),deadline:new Y(null),estimateCost:[0,y.required]}),this.getProjectById()}getProjectById(){this.projectService.getProjectByIdWithTasks(this.id).subscribe(r=>{this.project=r,this.projectForm.patchValue(this.project)},r=>{console.error(r)})}update(){if(this.projectForm.valid){let r=this.projectForm.value.title;r=r.toLowerCase(),r=r.replace(/[^\w\s]/gi,""),r=r.replace(/\s+/g,"-");let i={id:this.projectForm.value.id,title:this.projectForm.value.title,url:r,details:this.projectForm.value.details,createdAt:this.project.createdAt,status:this.project.status,tasks:this.project.tasks,deadline:this.projectForm.value.deadline,progress:this.project.progress,member:this.project.member,leader:this.project.leader,estimateCost:this.projectForm.value.estimateCost};this.projectService.editProject(i,this.id).subscribe(a=>{console.log(a),this.router.navigate(["/project/portfolio"])},a=>{console.log(a)})}}};e.\u0275fac=function(i){return new(i||e)(p(T),p($),p(k),p(W))},e.\u0275cmp=f({type:e,selectors:[["app-edit-project"]],standalone:!0,features:[h],decls:27,vars:6,consts:[[1,"max-w-md","mx-auto","p-4","bg-white","rounded","shadow-md"],[1,"text-xl","font-bold","text-gray-700"],[3,"formGroup","ngSubmit"],[1,"mb-4"],["for","project-name",1,"block","text-sm","font-medium","leading-6","text-gray-700"],[1,"mt-2"],["type","text","name","project-name","id","project-name","formControlName","title","autocomplete","given-name",1,"block","w-full","rounded-md","border-0","p-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],["class","text-red-500 text-sm mt-2",4,"ngIf"],["for","project-detail",1,"block","text-sm","font-medium","leading-6","text-gray-700"],["name","project-detail","id","project-detail","rows","3","formControlName","details","autocomplete","given-name",1,"block","w-full","rounded-md","border-0","p-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],["type","text","name","estimateCost","id","estimateCost","formControlName","estimateCost","autocomplete","false",1,"block","w-full","rounded-md","border-0","p-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],["for","deadline",1,"block","text-sm","font-medium","leading-6","text-gray-700"],["id","deadline","type","date","formControlName","deadline",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],[1,"flex","items-center","justify-between"],[1,"bg-green-500","hover:bg-green-600","text-white","font-bold","my-3","py-2","px-4","rounded-full",3,"disabled"],[1,"text-red-500","text-sm","mt-2"]],template:function(i,a){if(i&1&&(n(0,"div",0)(1,"h1",1),s(2,"Edit Projects"),o(),n(3,"form",2),b("ngSubmit",function(){return a.update()}),n(4,"div",3)(5,"label",4),s(6,"Enter Project Name"),o(),n(7,"div",5),u(8,"input",6),o(),v(9,bi,2,0,"div",7),o(),n(10,"div",3)(11,"label",8),s(12,"Enter Project Details"),o(),n(13,"div",5),u(14,"textarea",9),o(),v(15,yi,2,0,"div",7),o(),n(16,"div",5),u(17,"input",10),o(),v(18,ji,2,0,"div",7),n(19,"div",3)(20,"label",11),s(21,"Deadline"),o(),u(22,"input",12),v(23,Ci,2,0,"div",7),o(),n(24,"div",13)(25,"button",14),s(26," Update Project "),o()()()()),i&2){let c,x,I,J;d(3),m("formGroup",a.projectForm),d(6),m("ngIf",((c=a.projectForm.get("title"))==null?null:c.invalid)&&((c=a.projectForm.get("title"))==null?null:c.touched)),d(6),m("ngIf",((x=a.projectForm.get("details"))==null?null:x.invalid)&&((x=a.projectForm.get("details"))==null?null:x.touched)),d(3),m("ngIf",((I=a.projectForm.get("estimateCost"))==null?null:I.invalid)&&((I=a.projectForm.get("estimateCost"))==null?null:I.touched)),d(5),m("ngIf",((J=a.projectForm.get("deadline"))==null?null:J.invalid)&&((J=a.projectForm.get("deadline"))==null?null:J.touched)),d(2),m("disabled",a.projectForm.invalid)}},dependencies:[S,K,ee,U,V,R,q,Q,H,z]});let t=e;return t})();function _i(t,e){if(t&1&&(n(0,"option",15),s(1),o()),t&2){let l=e.$implicit;m("value",l.id),d(1),j(" ",l.email," ")}}var wt=(()=>{let e=class e{constructor(r,i,a,c,x){this.fb=r,this.taskService=i,this.teamService=a,this.route=c,this.router=x,this.showPlaceholder=!1,this.taskName="",this.route.queryParams.subscribe(I=>{this.projectId=I.projectId})}ngOnInit(){this.taskForm=this.fb.group({title:[this.task?.title||"",y.required],description:[this.task?.description||"",y.required],assignedTo:["",y.required],dueDate:[this.task?.dueDate||"",y.required],cost:[0,y.required],status:[0,y.required]}),this.getTeamByProjectId()}getTeamByProjectId(){this.teamService.getTeamByProjectId(this.projectId).subscribe(r=>{this.teams=r})}onSubmit(){if(this.taskForm.valid){let r={title:this.taskForm.get("title")?.value,status:this.taskForm.get("status")?.value,description:this.taskForm.get("description")?.value,dueDate:this.taskForm.get("dueDate")?.value,projectId:this.projectId,teamId:this.taskForm.get("assignedTo")?.value,cost:this.taskForm.get("cost")?.value};this.task&&this.task.id||this.taskService.addTask(r).subscribe({next:i=>{this.task=i,alert("Task is assigned successfully!"),this.router.navigate(["project/details"],{queryParams:{projectId:this.projectId}})},error:i=>console.error("Creation failed",i)})}}};e.\u0275fac=function(i){return new(i||e)(p(W),p(ce),p(L),p(T),p(k))},e.\u0275cmp=f({type:e,selectors:[["app-create-task"]],inputs:{task:"task"},standalone:!0,features:[h],decls:39,vars:5,consts:[[1,"space-y-2","bg-white","text-black","p-8","rounded","shadow-md","max-w-3xl","mx-auto","my-2",3,"formGroup","ngSubmit"],[1,"text-xl","font-bold","text-gray-700"],[1,"flex","flex-col"],["for","title",1,"mb-2","font-semibold"],["type","text","id","title","formControlName","title",1,"form-input","p-2","border","rounded","border-gray-300","focus:border-blue-500","focus:ring","focus:ring-blue-500","focus:ring-opacity-50"],["for","description",1,"mb-2","font-semibold"],["id","description","formControlName","description","rows","3",1,"form-textarea","p-2","border","rounded","border-gray-300","focus:border-blue-500","focus:ring","focus:ring-blue-500","focus:ring-opacity-50"],["for","cost",1,"mb-2","font-semibold"],["type","number","id","cost","formControlName","cost",1,"form-input","p-2","border","rounded","border-gray-300","focus:border-blue-500","focus:ring","focus:ring-blue-500","focus:ring-opacity-50"],["for","assignedTo",1,"mb-2","font-semibold"],["id","assignedTo","formControlName","assignedTo",1,"form-select","p-2","border","rounded","border-gray-300","focus:border-blue-500","focus:ring","focus:ring-blue-500","focus:ring-opacity-50"],["for","dueDate",1,"mb-2","font-semibold"],["type","date","id","dueDate","formControlName","dueDate",1,"form-input","p-2","border","rounded","border-gray-300","focus:border-blue-500","focus:ring","focus:ring-blue-500","focus:ring-opacity-50"],["for","status",1,"mb-2","font-semibold"],["formControlName","status",1,"form-select","p-2","border","rounded","border-gray-300","focus:border-blue-500","focus:ring","focus:ring-blue-500","focus:ring-opacity-50"],[3,"value"],["type","submit",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","transition","duration-200","ease-in-out"]],template:function(i,a){i&1&&(n(0,"form",0),b("ngSubmit",function(){return a.onSubmit()}),n(1,"h1",1),s(2,"Add Task"),o(),n(3,"div",2)(4,"label",3),s(5,"Title"),o(),u(6,"input",4),o(),n(7,"div",2)(8,"label",5),s(9,"Description"),o(),u(10,"textarea",6),o(),n(11,"div",2)(12,"label",7),s(13,"Task Cost (Optional)"),o(),u(14,"input",8),o(),n(15,"div",2)(16,"label",9),s(17,"Assign To"),o(),n(18,"select",10),A(19,_i,2,2,"option",15,N),o()(),n(21,"div",2)(22,"label",11),s(23,"Due Date"),o(),u(24,"input",12),o(),n(25,"div",2)(26,"label",13),s(27,"Status"),o(),n(28,"select",14)(29,"option",15),s(30,"Todo"),o(),n(31,"option",15),s(32,"In Progress"),o(),n(33,"option",15),s(34,"In Review"),o(),n(35,"option",15),s(36,"Completed"),o()()(),n(37,"button",16),s(38," Submit "),o()()),i&2&&(m("formGroup",a.taskForm),d(19),B(a.teams),d(10),m("value",0),d(2),m("value",1),d(2),m("value",2),d(2),m("value",3))},dependencies:[S,ee,U,Se,Te,V,Ce,_e,R,q,Q,H,z],styles:["hr[_ngcontent-%COMP%]{border:none;border-top:1px solid white}"]});let t=e;return t})();function Si(t,e){if(t&1&&(n(0,"option",15),s(1),o()),t&2){let l=e.$implicit;m("value",l.id),d(1),j(" ",l.email," ")}}var Et=(()=>{let e=class e{constructor(r,i,a,c,x){this.fb=r,this.taskService=i,this.teamService=a,this.route=c,this.router=x,this.showPlaceholder=!1,this.taskName="",this.route.params.subscribe(I=>{this.projectId=I.id}),this.route.queryParams.subscribe(I=>{this.taskId=I.taskId,this.getTaskById(this.taskId)})}ngOnInit(){this.taskForm=this.fb.group({title:[this.task?.title||"",y.required],description:[this.task?.description||""],assignedTo:["",y.required],dueDate:[this.task?.dueDate||"",y.required],cost:[0,y.required],status:[0,y.required]}),this.getTeamByProjectId()}getTaskById(r){this.taskService.getTaskById(r).subscribe(i=>{this.task=i,this.taskForm.patchValue({title:i.title,description:i.description,assignedTo:i.teamId,dueDate:i.dueDate,cost:i.cost,status:i.status})})}getTeamByProjectId(){this.teamService.getTeamByProjectId(this.projectId).subscribe(r=>{this.teams=r})}onSubmit(){if(this.taskForm.valid){let r={id:this.task?.id,title:this.taskForm.get("title")?.value,status:this.taskForm.get("status")?.value,description:this.taskForm.get("description")?.value,dueDate:this.taskForm.get("dueDate")?.value,projectId:this.projectId,teamId:this.taskForm.get("assignedTo")?.value,cost:this.taskForm.get("cost")?.value};this.task&&this.task.id&&this.taskService.editTask(r).subscribe({next:i=>{alert("Task is updated successfully!"),this.router.navigate(["project/details"],{queryParams:{projectId:this.projectId}})},error:i=>console.error("Update failed",i)})}}};e.\u0275fac=function(i){return new(i||e)(p(W),p(ce),p(L),p(T),p(k))},e.\u0275cmp=f({type:e,selectors:[["app-edit-task"]],inputs:{task:"task"},standalone:!0,features:[h],decls:39,vars:5,consts:[[1,"space-y-2","bg-white","text-black","p-8","rounded","shadow-md","max-w-3xl","mx-auto","my-2",3,"formGroup","ngSubmit"],[1,"text-xl","font-bold","text-gray-700"],[1,"flex","flex-col"],["for","title",1,"mb-2","font-semibold"],["type","text","id","title","formControlName","title",1,"form-input","p-2","border","rounded","border-gray-300","focus:border-blue-500","focus:ring","focus:ring-blue-500","focus:ring-opacity-50"],["for","description",1,"mb-2","font-semibold"],["id","description","formControlName","description","rows","3",1,"form-textarea","p-2","border","rounded","border-gray-300","focus:border-blue-500","focus:ring","focus:ring-blue-500","focus:ring-opacity-50"],["for","cost",1,"mb-2","font-semibold"],["type","number","id","cost","formControlName","cost",1,"form-input","p-2","border","rounded","border-gray-300","focus:border-blue-500","focus:ring","focus:ring-blue-500","focus:ring-opacity-50"],["for","assignedTo",1,"mb-2","font-semibold"],["id","assignedTo","formControlName","assignedTo",1,"form-select","p-2","border","rounded","border-gray-300","focus:border-blue-500","focus:ring","focus:ring-blue-500","focus:ring-opacity-50"],["for","dueDate",1,"mb-2","font-semibold"],["type","date","id","dueDate","formControlName","dueDate",1,"form-input","p-2","border","rounded","border-gray-300","focus:border-blue-500","focus:ring","focus:ring-blue-500","focus:ring-opacity-50"],["for","status",1,"mb-2","font-semibold"],["formControlName","status",1,"form-select","p-2","border","rounded","border-gray-300","focus:border-blue-500","focus:ring","focus:ring-blue-500","focus:ring-opacity-50"],[3,"value"],["type","submit",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","transition","duration-200","ease-in-out"]],template:function(i,a){i&1&&(n(0,"form",0),b("ngSubmit",function(){return a.onSubmit()}),n(1,"h1",1),s(2,"Edit Task"),o(),n(3,"div",2)(4,"label",3),s(5,"Title"),o(),u(6,"input",4),o(),n(7,"div",2)(8,"label",5),s(9,"Description"),o(),u(10,"textarea",6),o(),n(11,"div",2)(12,"label",7),s(13,"Task Cost (Optional)"),o(),u(14,"input",8),o(),n(15,"div",2)(16,"label",9),s(17,"Assign To"),o(),n(18,"select",10),A(19,Si,2,2,"option",15,N),o()(),n(21,"div",2)(22,"label",11),s(23,"Due Date"),o(),u(24,"input",12),o(),n(25,"div",2)(26,"label",13),s(27,"Status"),o(),n(28,"select",14)(29,"option",15),s(30,"Todo"),o(),n(31,"option",15),s(32,"In Progress"),o(),n(33,"option",15),s(34,"In Review"),o(),n(35,"option",15),s(36,"Completed"),o()()(),n(37,"button",16),s(38," Submit "),o()()),i&2&&(m("formGroup",a.taskForm),d(19),B(a.teams),d(10),m("value",0),d(2),m("value",1),d(2),m("value",2),d(2),m("value",3))},dependencies:[Q,U,Se,Te,V,Ce,_e,R,q,H,z]});let t=e;return t})();function Ti(t,e){t&1&&(n(0,"div",7),s(1," Please enter a valid email address. "),o())}var Ft=(()=>{let e=class e{constructor(r,i,a,c){this.fb=r,this.auth=i,this.route=a,this.projectService=c,this.mailObject={to:"",subject:"",message:"",from:"",fromName:"",replyTo:""},this.route.queryParams.subscribe(x=>{this.pId=x.projectId,this.pId&&this.projectService.getProjectByIdWithTasks(this.pId).subscribe(I=>{this.project=I})}),this.inviteForm=this.fb.group({email:["",[y.required,y.email]],message:[""]})}onSubmit(){if(this.inviteForm.valid){let r=this.inviteForm.value;this.mailObject.from="info@sciaku.com",this.mailObject.fromName="Sciaku (\u0938\u093F\u092F\u093E\u0915\u0941)",this.mailObject.to=this.inviteForm.get("email")?.value,this.mailObject.replyTo="info@sciaku.com",this.mailObject.subject="Project Invitation",this.mailObject.message=`
      <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Invitation</title>
    <style>
        /* Inline CSS for email */
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
        }
        .container {
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .header {
            text-align: center;
            padding-bottom: 20px;
            border-bottom: 1px solid #dddddd;
        }
        .header h1 {
            margin: 0;
            color: #333333;
        }
        .content {
            padding: 20px;
            color: #555555;
        }
        .content p {
            margin: 0 0 20px;
        }
        .button-container {
            text-align: center;
            margin-top: 30px;
        }
        .button {
            display: inline-block;
            padding: 12px 24px;
            font-size: 16px;
            color: #ffffff;
            background-color: #007BFF;
            border-radius: 4px;
            text-decoration: none;
        }
        .button:hover {
            background-color: #0056b3;
        }
        .footer {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #dddddd;
            color: #777777;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>You're Invited!</h1>
        </div>
        <div class="content">
            <p>Hello,</p>
            <p>You have been invited to join the project "<strong>${this.project.title}</strong>". Click the button below to accept the invitation and join the project.</p>
            <div class="button-container">
                <a href="https://autonome.sciaku.com/project/accept-invite?email=${r.email}&projectId=${this.pId}" class="button">Join Project</a>
            </div>
            <p>If you have any questions, feel free to reply to this email.</p>
            <p>Best regards,<br>The Project Team</p>
        </div>
        <div class="footer">
            <p>&copy; 2024 Autonome. All rights reserved.</p>
        </div>
    </div>
</body>
</html>
      `,this.auth.sendMail(this.mailObject).subscribe(i=>{alert("Invitation is send successfully!!"),this.inviteForm.reset()},i=>{alert("Invitation Request is not send!!")})}}};e.\u0275fac=function(i){return new(i||e)(p(W),p(F),p(T),p($))},e.\u0275cmp=f({type:e,selectors:[["app-invite-team"]],standalone:!0,features:[h],decls:10,vars:2,consts:[[1,"space-y-6","bg-white","text-black","p-8","rounded","shadow-md","max-w-md","mx-auto","my-10",3,"formGroup","ngSubmit"],[1,"text-2xl","font-bold","mb-4"],[1,"flex","flex-col"],["for","email",1,"mb-2","font-semibold"],["type","email","id","email","formControlName","email","placeholder","Enter email address",1,"form-input","p-2","border","rounded","border-gray-300","focus:border-blue-500","focus:ring","focus:ring-blue-500","focus:ring-opacity-50"],["class","text-red-500 text-sm mt-1"],["type","submit",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","transition","duration-200","ease-in-out"],[1,"text-red-500","text-sm","mt-1"]],template:function(i,a){if(i&1&&(n(0,"form",0),b("ngSubmit",function(){return a.onSubmit()}),n(1,"h2",1),s(2,"Send Invitation"),o(),n(3,"div",2)(4,"label",3),s(5,"Email"),o(),u(6,"input",4),v(7,Ti,2,0,"div",5),o(),n(8,"button",6),s(9," Send Invitation "),o()()),i&2){let c;m("formGroup",a.inviteForm),d(7),M(7,(c=a.inviteForm.get("email"))!=null&&c.invalid&&((c=a.inviteForm.get("email"))!=null&&c.touched)?7:-1)}},dependencies:[Q,U,V,R,q,H,z]});let t=e;return t})();function Ii(t,e){if(t&1&&(n(0,"div",1),u(1,"p",2),o()),t&2){let l=g();d(1),m("innerHTML",l.message,$e)}}function ki(t,e){if(t&1&&(n(0,"p",3)(1,"strong"),s(2,"Oops!"),o(),s(3," You are not logged in with this "),n(4,"strong"),s(5),o(),s(6,". "),o()),t&2){let l=g();d(5),_(l.email)}}var Pt=(()=>{let e=class e{constructor(r,i,a,c){this.teamService=r,this.auth=i,this.route=a,this.projectService=c,this.message="",this.route.queryParams.subscribe(x=>{this.projectId=x.projectId,this.email=x.email,this.getProjectById(this.projectId)})}getProjectById(r){this.projectService.getProjectByIdWithTasks(r).subscribe(i=>{this.project=i,this.auth.user.email===this.email&&this.saveTeam()})}saveTeam(){let r={email:this.auth.user.email,projectId:this.project.id};this.teamService.getTeamByUserAndProject(r.email,r.projectId).subscribe(i=>{i.length===0?this.teamService.addTeamToProject(r).subscribe(a=>{this.message=`You have successfully accepted the invitation in <strong>${this.project.title}</strong>.`}):this.message=`You have already accepted the invitation in <strong>${this.project.title}</strong>.`})}};e.\u0275fac=function(i){return new(i||e)(p(L),p(F),p(T),p($))},e.\u0275cmp=f({type:e,selectors:[["app-accept-invite"]],standalone:!0,features:[h],decls:2,vars:1,consts:[["class","text-center text-green-500","role","alert"],["role","alert",1,"text-center","text-green-500"],[3,"innerHTML"],[1,"text-red-500","text-center"]],template:function(i,a){i&1&&v(0,Ii,2,1,"div",0)(1,ki,7,1),i&2&&M(0,a.auth.user.email===a.email?0:1)}});let t=e;return t})();var Dt=(t,e)=>{let l=pe(F),r=pe(Ue);return et(r)?l.user!==null&&l.user?.role==10||l.user!==null&&l.user.role==11?!0:(pe(k).navigate(["login"]),!1):(pe(k).navigate(["login"]),!1)};function wi(t,e){if(t&1&&(n(0,"li",0)(1,"span",1),s(2),o(),n(3,"span",2),s(4),o()()),t&2){let l=e.$implicit;d(2),_(l.title),d(2),_(l.status)}}function Ei(t,e){if(t&1&&(n(0,"ul"),A(1,wi,5,2,"li",3,N),o()),t&2){let l=g();d(1),B(l.team.tasks)}}var Mt=(()=>{let e=class e{constructor(r,i){this.route=r,this.teamService=i,this.route.queryParams.subscribe(a=>{this.teamId=a.teamId,this.getTeamById(this.teamId)})}getTeamById(r){this.teamService.getTeamById(r).subscribe(i=>{this.team=i})}};e.\u0275fac=function(i){return new(i||e)(p(T),p(L))},e.\u0275cmp=f({type:e,selectors:[["app-team-tasks"]],standalone:!0,features:[h],decls:1,vars:1,consts:[[1,"border-b","last:border-none","py-2"],[1,"font-bold"],[1,"ml-2","text-sm","text-gray-500"],["class","border-b last:border-none py-2"]],template:function(i,a){i&1&&v(0,Ei,3,0,"ul"),i&2&&M(0,a.team?0:-1)}});let t=e;return t})();var To=[{path:"",component:pt,children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:vt},{path:"profile",component:It},{path:"team",component:ft,children:[{path:"",component:Mt}]},{path:"team/invite",component:Ft},{path:"accept-invite",component:Pt},{path:"notification",component:gt},{path:"time",component:ht},{path:"portfolio",component:bt},{path:"details",component:jt},{path:"new/create",component:_t},{path:"edit/:id",component:kt},{path:"task/create",component:wt},{path:"edit/task/:id",component:Et}],canActivate:[Dt]}];export{To as project_routes};
